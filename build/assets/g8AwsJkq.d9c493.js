import{j as s,d as a,e as m}from"./DsYCzp-3.d9c493.js";import{C as o,c as p,A as c}from"./BuVtjh5N.d9c493.js";import{u as l,L as u}from"./DVD3EYek.d9c493.js";import{S as d}from"./ChMh1-vr.d9c493.js";import{P as x}from"./CvvqxU9b.d9c493.js";function g({data:t}){var i;l("/history/:page?");const n=React.useMemo(()=>[{id:"title",label:"Title",className:"w-full whitespace-nowrap text-muted-foreground",render({row:e}){var r;return s.jsxs(u,{to:"/item/:type/detail/:id/:tab?",params:{id:e.item.id,type:e.item.type},className:"flex flex-col gap-2",children:[s.jsx("span",{children:wp.htmlEntities.decodeEntities(e.item.title)}),e.type==="download_additional"&&s.jsx("span",{className:"text-xs",children:(r=e.media)==null?void 0:r.title})]})}},{id:"type",label:"Type",render({row:e}){var r;return s.jsx(a,{variant:"bronze",className:"uppercase",children:(r=e.type)==null?void 0:r.replace("_"," ")})}},{id:"date",label:"Date",className:"whitespace-nowrap text-muted-foreground",render({row:e}){return moment.unix(e.created).format("DD MMM, YYYY HH:mm a")}},{id:"version",label:"Version",className:"whitespace-nowrap text-muted-foreground",render({row:e}){var r;return((r=e==null?void 0:e.media)==null?void 0:r.version)??e.item.version}}],[t]);return s.jsx(o,{children:s.jsx(p,{children:s.jsxs("div",{className:"flex flex-col gap-7",children:[s.jsx(d,{columns:n,data:t==null?void 0:t.data}),(t==null?void 0:t.meta)&&s.jsx(x,{currentPage:t==null?void 0:t.meta.current_page,totalPages:Number((i=t==null?void 0:t.meta)==null?void 0:i.last_page),urlGenerator:e=>`/history/${e}`})]})})})}function N(){const{page:t}=l("/history/:page?"),{data:n,isLoading:i}=m("history/list",{page:Number(t??1)});return s.jsx(c,{title:wp.i18n.__("History"),isLoading:i,children:s.jsx(g,{data:n})})}export{N as default};
