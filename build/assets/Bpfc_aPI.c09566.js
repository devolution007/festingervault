import{j as e,d as o,e as p}from"./CdnNGKTp.c09566.js";import{C as c,c as d,A as x}from"./gT-RD_r8.c09566.js";import{u as i,L as m}from"./DHjni_YY.c09566.js";import{P as h}from"./O4dOK5kL.c09566.js";function b({data:r}){var l;return i("/history/:page?"),e.jsx(c,{children:e.jsx(d,{children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("table",{className:"table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left font-semibold",children:[e.jsx("th",{className:"w-full border-b pb-4 pr-4",children:"Title"}),e.jsx("th",{className:"w-full border-b pb-4 pr-4",children:"Type"}),e.jsx("th",{className:"border-b px-4 pb-4",children:"Date"}),e.jsx("th",{className:"max-w-11 border-b pb-4 pl-4",children:"Version"})]})}),e.jsx("tbody",{children:r==null?void 0:r.data.map(s=>{var t,n,a;return e.jsxs("tr",{children:[e.jsx("td",{className:"w-full whitespace-nowrap border-b py-4 pr-0 text-muted-foreground",children:e.jsxs(m,{to:"/item/:type/detail/:id/:tab?",params:{id:s.item.id,type:s.item.type},className:"flex flex-col gap-2",children:[e.jsx("span",{children:wp.htmlEntities.decodeEntities(s.item.title)}),s.type==="download_additional"&&e.jsx("span",{className:"text-xs",children:(t=s.media)==null?void 0:t.title})]})}),e.jsx("td",{className:"border-b py-4",children:e.jsx(o,{variant:"bronze",className:"uppercase",children:(n=s.type)==null?void 0:n.replace("_"," ")})}),e.jsx("td",{className:"whitespace-nowrap border-b p-4 text-muted-foreground",children:moment.unix(s.created).format("DD MMM, YYYY HH:mm a")}),e.jsx("td",{className:"whitespace-nowrap border-b py-4 pl-4 text-muted-foreground",children:((a=s==null?void 0:s.media)==null?void 0:a.version)??s.item.version})]},s.id)})})]}),(r==null?void 0:r.meta)&&e.jsx(h,{currentPage:r==null?void 0:r.meta.current_page,totalPages:Number((l=r==null?void 0:r.meta)==null?void 0:l.last_page),urlGenerator:s=>`/history/${s}`})]})})})}function y(){const{page:r}=i("/history/:page?"),{data:l,isLoading:s}=p("history/list",{page:Number(r??1)});return e.jsx(x,{title:wp.i18n.__("History"),isLoading:s,children:e.jsx(b,{data:l})})}export{y as default};
