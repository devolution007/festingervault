import{c as f,j as e,S as I,B as b,E as Y,H as E,n as C,e as N,d as F,p as P}from"./jHKIHdIH.f336bf.js";import{S as v,o as $,C as x,a as h,c as m,A as L}from"./BEj500SD.f336bf.js";import{c as D,i as V}from"./KD1BARN2.f336bf.js";import{u as p,L as H}from"./B6nTa1Af.f336bf.js";import{G as k,_ as y,a as w}from"./R6s2cDke.f336bf.js";import{I as z,u as T,C as B}from"./DSvVhsc9.f336bf.js";import{P as M}from"./CcLn6aZ1.f336bf.js";import{z as S}from"./DXqQCM1T.f336bf.js";import"./DrJ5P805.f336bf.js";/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=f("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=f("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=f("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=f("ShieldEllipsis",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]]);function U(){return e.jsxs("div",{className:"relative flex flex-col items-center gap-3 p-6 py-12",children:[e.jsx(k,{size:50}),e.jsx("div",{children:e.jsx(v,{className:"aspect-video h-52 rounded-md"})}),e.jsx(v,{className:"w-52 h-5"})]})}function W({item:a}){return e.jsxs("div",{className:"relative flex flex-col items-center gap-3 p-6 py-12",children:[e.jsx(k,{size:50}),e.jsx("div",{children:e.jsx("img",{src:a.image,className:"aspect-video h-52 rounded-md"})}),e.jsx("h1",{className:"text-xl",children:wp.htmlEntities.decodeEntities(a.title)}),e.jsxs("div",{className:"flex flex-row gap-5 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"space-x-2",children:[e.jsx("span",{children:"In"}),e.jsx("span",{children:D(a.category)})]}),e.jsx("div",{className:"flex flex-row items-center gap-1 text-green-600",children:moment.unix(a.updated).isBefore(moment().add(1,"week"))?e.jsxs(e.Fragment,{children:[e.jsx(_,{size:18})," ",e.jsx("span",{children:"Recently Updated"})]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{size:18})," ",e.jsx("span",{children:moment.unix(a.updated).fromNow()})]})}),a.additional_content_count>0&&e.jsxs("div",{className:"flex flex-row items-center gap-1 text-green-600",children:[e.jsx(_,{size:18}),e.jsx("span",{children:"Demo Included"})]})]})]})}function q({item:a,tabs:s}){var l;const i=p("/item/:type/detail/:id/:tab?"),d=((l=s.find(n=>n.id===i.tab))==null?void 0:l.id)??"description",r=s.find(n=>n.id===d),t=(r==null?void 0:r.el)??(()=>e.jsx("div",{children:"Invalid Tab?"}));return e.jsx(t,{})}function J({item:a,tabs:s}){var r;const i=p("/item/:type/detail/:id/:tab?"),d=((r=s.find(t=>t.id===i.tab))==null?void 0:r.id)??"description";return e.jsxs("div",{className:"flex flex-row items-center justify-between border-b-2 border-b-card",children:[e.jsx("div",{className:"flex flex-row",children:s.map(({id:t,label:l,external:n})=>e.jsx(I,{className:$("rounded-none border-b-2 border-transparent px-6 py-4 text-sm transition-colors hover:border-b-blue-600",t===d&&"border-b-blue-800"),children:n?e.jsx("a",{href:n,target:"_blank",children:wp.i18n.__("Support")}):e.jsx(H,{to:"/item/:type/detail/:id/:tab?",params:{...i,tab:t},children:l})},t))}),e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsx(z,{item:a}),a.preview&&e.jsx(b,{asChild:!0,className:"flex gap-2",variant:"outline",size:"default",children:e.jsxs("a",{href:a.preview,target:"_blank",referrerPolicy:"no-referrer",children:[e.jsx("span",{children:wp.i18n.__("Live Preview")}),e.jsx(Y,{size:16})]})}),e.jsx(b,{size:"icon",variant:"outline",children:e.jsx(E,{size:16})}),e.jsx(b,{size:"icon",variant:"outline",children:e.jsx(G,{size:16})})]})]})}const K=S.number().gte(1);function O({item:a}){var j,c;const s=p("/item/:type/detail/:id/:tab?"),[i,d]=C(),{isInstalled:r}=T(a),t=K.parse(Number((i==null?void 0:i.get("page"))??1)),{data:l,isError:n,isLoading:g,isFetching:u}=N("item/changelog",{item_id:s.id,page:t});return e.jsx("div",{className:"flex flex-col gap-5 sm:gap-7",children:e.jsxs(x,{children:[e.jsx(h,{className:"border-b p-5 sm:p-7",children:"Changelog"}),e.jsx(m,{className:"p-5 text-sm sm:p-7",children:l!=null&&l.data?e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("table",{className:"table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left font-semibold",children:[e.jsx("th",{className:"w-full border-b pb-4 pr-4",children:"Version"}),e.jsx("th",{className:"border-b px-4 pb-4",children:"Date"}),e.jsx("th",{className:"max-w-11 border-b pb-4 pl-4"})]})}),e.jsx("tbody",{children:(j=l==null?void 0:l.data)==null?void 0:j.map(o=>e.jsxs("tr",{children:[e.jsx("td",{className:"border-b py-4 pr-4",children:e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:o.version}),r&&r.installed_version===o.version&&e.jsx(F,{variant:"info",size:"sm",children:"Installed"})]})}),e.jsx("td",{className:"whitespace-nowrap border-b p-4 text-muted-foreground",children:moment.unix(o.updated).format("D MMM, YYYY")}),e.jsx("td",{className:"border-b py-4 pl-4",children:e.jsx(z,{item:a,media:o,size:"icon",variant:"outline"})})]},o.id))})]}),(l==null?void 0:l.meta)&&e.jsx(M,{currentPage:t,totalPages:Number((c=l==null?void 0:l.meta)==null?void 0:c.last_page),urlGenerator:o=>`/item/${s.type}/detail/${s.id}/${s.tab}?page=${o}`})]}):g||u?e.jsx("div",{className:"",children:"Loading..."}):e.jsx("div",{className:"",children:"No Items Found"})})]})})}const Q=S.number().gte(1).default(1);function X({item:a}){var u,j;const s=p("/item/:type/detail/:id/:tab?"),[i,d]=C(),r=Q.parse(Number((i==null?void 0:i.get("page"))??1)),{data:t,isError:l,isLoading:n,isFetching:g}=N("item/demo-content",{item_id:s.id,page:r});return e.jsx("div",{className:"flex flex-col gap-5 sm:gap-7",children:e.jsxs(x,{children:[e.jsx(h,{className:"border-b p-5 sm:p-7",children:"Demo Contents"}),e.jsx(m,{className:"p-5 text-sm sm:p-7",children:t!=null&&t.data?e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("table",{className:"table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left font-semibold",children:[e.jsx("th",{className:"w-full border-b pb-4 pr-4",children:"Version"}),e.jsx("th",{className:"border-b px-4 pb-4",children:"Type"}),e.jsx("th",{className:"border-b px-4 pb-4",children:"Date"}),e.jsx("th",{className:"max-w-11 border-b pb-4 pl-4"})]})}),e.jsx("tbody",{children:(u=t==null?void 0:t.data)==null?void 0:u.map(c=>e.jsxs("tr",{className:"",children:[e.jsx("td",{className:"border-b py-4 pr-4",children:c.title}),e.jsx("td",{className:"whitespace-nowrap border-b  p-4",children:D(c.type)}),e.jsx("td",{className:"whitespace-nowrap border-b p-4 text-muted-foreground",children:moment.unix(c.updated).format("D MMM, YYYY")}),e.jsx("td",{className:"border-b py-4 pl-4",children:e.jsx(b,{size:"icon",variant:"outline",children:e.jsx(B,{size:16})})})]},c.id))})]}),(t==null?void 0:t.meta)&&e.jsx(M,{currentPage:r,totalPages:Number((j=t==null?void 0:t.meta)==null?void 0:j.last_page),urlGenerator:c=>`/item/${s.type}/detail/${s.id}/${s.tab}?page=${c}`})]}):n||g?e.jsx("div",{className:"",children:"Loading..."}):e.jsx("div",{className:"",children:"No Items Found"})})]})})}function Z({item:a}){return p("/item/:type/detail/:id/:tab?"),e.jsx("div",{className:"flex flex-col gap-5 sm:gap-7",children:e.jsxs(x,{children:[e.jsx(h,{className:"border-b p-5 sm:p-7",children:wp.i18n.__("Description")}),e.jsx(m,{className:"p-5 sm:p-7 text-sm leading-relaxed font-light",children:wp.htmlEntities.decodeEntities(a.summary)})]})})}function ee({item:a}){return p("/item/:type/detail/:id/:tab?"),e.jsx("div",{className:"flex flex-col gap-5 sm:gap-7",children:e.jsxs(x,{children:[e.jsx(h,{className:"border-b p-5 sm:p-7",children:"Documentation"}),e.jsx(m,{className:"p-5 sm:p-7 text-sm",children:"Coming Soon"})]})})}function se({item:a}){return e.jsxs(x,{children:[e.jsxs(h,{className:"flex flex-row items-center justify-between border-b",children:[e.jsx("h3",{className:"text-lg",children:wp.i18n.__("Virus Total")}),a.virus_total&&e.jsx("a",{href:`https://www.virustotal.com/gui/file/${a.virus_total.hash}`,target:"_blank",className:"border-b border-dashed border-blue-500 text-sm text-blue-500",children:"View Detail"})]}),e.jsx(m,{className:"p-4 sm:p-5",children:a.virus_total?e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("div",{children:e.jsx(P,{size:38,className:"text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{children:a.virus_total.filename}),e.jsxs("div",{className:"space-x-3 text-xs text-muted-foreground",children:[e.jsxs("span",{children:[a.virus_total.stats.malicious," threats"]}),e.jsx("span",{children:moment.unix(a.virus_total.updated).format("D MMM YYYY, h:mm a")})]})]})]}):e.jsxs("div",{className:"flex animate-pulse flex-row items-center gap-2",children:[e.jsx("div",{children:e.jsx(R,{size:38,className:"text-purple-400"})}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"",children:"Scanning..."})})]})})]})}function ae({item:a}){const s=React.useMemo(()=>[{label:"Version",el:()=>a.version},{label:"Slug",el:()=>a.slug},{label:"Status",el:()=>"Functional"},{label:"Updated",el:()=>moment.unix(a.updated).format("MMM D, YYYY")},{label:"Published",el:()=>moment.unix(a.created).format("MMM D, YYYY")},{label:"Access",el:()=>e.jsx("span",{className:"capitalize",children:a.access})}],[a]);return e.jsxs(x,{children:[e.jsx(h,{className:"flex flex-row items-center justify-between border-b",children:e.jsx("h3",{className:"text-lg",children:wp.i18n.__("Details")})}),e.jsx(m,{className:"space-y-3",children:s.map(i=>e.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm font-light",children:[e.jsx("div",{className:"col-span-1 text-muted-foreground",children:i.label}),e.jsx("div",{className:"col-span-2",children:e.jsx(i.el,{})})]},i.label))})]})}function te({item:a}){return e.jsxs("div",{className:"flex flex-col gap-5 sm:gap-7",children:[e.jsx(x,{children:e.jsxs(m,{className:"grid grid-cols-2 divide-x text-center",children:[e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-2xl font-semibold",children:e.jsx(y,{start:0,end:a.download_count,duration:2.75,formattingFn:s=>w(s)})}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Downloads"})]}),e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-2xl",children:e.jsx(y,{start:0,end:a.install_count,duration:2.75,formattingFn:s=>w(s)})}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Installs"})]})]})}),e.jsx(se,{item:a}),e.jsx(ae,{item:a})]})}function pe(){const a=p("/item/:type/detail/:id/:tab?"),{data:s,isError:i,isLoading:d,isFetching:r}=N("item/detail",{item_id:a.id}),t=React.useMemo(()=>{var l;return s?[{id:"description",label:"Description",el:()=>e.jsx(Z,{item:s})},{id:"changelog",label:"Changelog",el:()=>e.jsx(O,{item:s}),enabled:s.media_count>0},{id:"demo-contents",label:"Demo Contents",el:()=>e.jsx(X,{item:s}),enabled:s.additional_content_count>0},{id:"documentation",label:"Documentation",el:()=>e.jsx(ee,{item:s}),enabled:!1},{id:"support",label:"Support",external:s.support_url,enabled:((l=s==null?void 0:s.support_url)==null?void 0:l.length)>0}].filter(n=>n.enabled??!0):[]},[s]);return e.jsx(L,{title:(s==null?void 0:s.title)??"Item Detail",description:"",preloader:e.jsx(U,{}),breadcrump:[{label:V[a.type].label,href:`/item/${a.type}`},{label:wp.htmlEntities.decodeEntities(s==null?void 0:s.title)}],isError:i,isFetching:r,isLoading:d,children:s&&e.jsxs(e.Fragment,{children:[e.jsx(W,{item:s}),e.jsx("div",{className:"wp-full",children:e.jsx(J,{item:s,tabs:t})}),e.jsxs("div",{className:"flex flex-row gap-5 sm:gap-7",children:[e.jsx("div",{className:"flex-1",children:e.jsx(q,{item:s,tabs:t})}),e.jsx("div",{className:"w-80",children:e.jsx(te,{item:s})})]})]})})}export{pe as default};
