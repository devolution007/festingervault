import{c as zt,u as ot,j as v,B as me,J as xe,P as Gt,a as de,b as Qt,S as Jt}from"./CXQqwsZ_.2c9267.js";import{C as ut,a as ct,b as dt,c as ft,d as yt,A as Zt}from"./2wnDsYA5.2c9267.js";import{u as ht,D as Xt,a as Yt,L as Te,b as er,c as tr,d as rr,e as sr,f as ir,g as ar,h as nr}from"./CkHSz6Xa.2c9267.js";import{I as lr}from"./xPST1hE3.2c9267.js";import{z as Xe}from"./DXqQCM1T.2c9267.js";/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=zt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);function ur({detail:e}){const r=ot(),{isPending:t,mutateAsync:i}=ht("license/deactivate");async function n(){try{await i({}),xe.success(wp.i18n.__("License Deactivated Successfully")),r.invalidateQueries({queryKey:["license/detail"]})}catch(a){xe.error((a==null?void 0:a.message)??wp.i18n.__("Error Deactivating License"))}}return v.jsxs(ut,{className:"",children:[v.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 border-b",children:[v.jsx(dt,{className:"text-lg font-medium uppercase",children:e.plan_type}),v.jsx(or,{className:"h-4 w-4 text-muted-foreground"})]}),v.jsxs(ft,{className:"space-y-2",children:[v.jsx("div",{className:"text-xl font-bold",children:e.plan_title}),v.jsxs("div",{className:"flex flex-row gap-1 text-xs text-muted-foreground",children:[v.jsx("span",{children:wp.i18n.__("Expires:")}),v.jsx("span",{children:e.expires>0?moment.unix(e.expires).fromNow():"LIFETIME"})]}),v.jsxs("div",{className:"flex flex-row gap-1 text-xs text-muted-foreground",children:[v.jsx("span",{children:wp.i18n.__("Status:")}),v.jsx("span",{children:e.status})]}),v.jsxs("div",{className:"flex flex-row gap-1 text-xs text-muted-foreground",children:[v.jsx("span",{children:wp.i18n.__("Install ID:")}),v.jsx("span",{children:e.activation_key})]})]}),v.jsx(yt,{children:v.jsxs(Xt,{children:[v.jsx(Yt,{asChild:!0,children:v.jsxs(me,{variant:"destructive",size:"sm",disabled:t,className:"flex-rowgap-2 flex",children:[wp.i18n.__("Deactivate"),t?v.jsx(Te,{className:"h-4 w-4 animate-spin"}):null]})}),v.jsx(er,{children:v.jsxs("div",{className:"mx-auto w-full max-w-sm",children:[v.jsxs(tr,{className:"text-center",children:[v.jsx(rr,{className:"text-center",children:wp.i18n.__("Are you absolutely sure?")}),v.jsx(sr,{className:"text-center",children:wp.i18n.__("Do you want to deactivate license activation")})]}),v.jsx(ir,{children:v.jsxs("div",{className:"flex flex-row justify-center gap-4",children:[v.jsxs(me,{onClick:n,variant:"destructive",disabled:t,className:"flex flex-row gap-2",children:[wp.i18n.__("Deactivate"),t?v.jsx(Te,{className:"h-4 w-4 animate-spin"}):null]}),v.jsx(ar,{asChild:!0,children:v.jsx(me,{variant:"outline",children:wp.i18n.__("Cancel")})})]})})]})})]})})]})}var fe=e=>e.type==="checkbox",ie=e=>e instanceof Date,L=e=>e==null;const vt=e=>typeof e=="object";var k=e=>!L(e)&&!Array.isArray(e)&&vt(e)&&!ie(e),mt=e=>k(e)&&e.target?fe(e.target)?e.target.checked:e.target.value:e,cr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,gt=(e,r)=>e.has(cr(r)),dr=e=>{const r=e.constructor&&e.constructor.prototype;return k(r)&&r.hasOwnProperty("isPrototypeOf")},Me=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function I(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Me&&(e instanceof Blob||e instanceof FileList))&&(t||k(e)))if(r=t?[]:{},!t&&!dr(e))r=e;else for(const i in e)e.hasOwnProperty(i)&&(r[i]=I(e[i]));else return e;return r}var pe=e=>Array.isArray(e)?e.filter(Boolean):[],D=e=>e===void 0,d=(e,r,t)=>{if(!r||!k(e))return t;const i=pe(r.split(/[,[\].]+?/)).reduce((n,a)=>L(n)?n:n[a],e);return D(i)||i===e?D(e[r])?t:e[r]:i},H=e=>typeof e=="boolean",Ue=e=>/^\w*$/.test(e),xt=e=>pe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),A=(e,r,t)=>{let i=-1;const n=Ue(r)?[r]:xt(r),a=n.length,u=a-1;for(;++i<a;){const h=n[i];let _=t;if(i!==u){const w=e[h];_=k(w)||Array.isArray(w)?w:isNaN(+n[i+1])?{}:[]}if(h==="__proto__")return;e[h]=_,e=e[h]}return e};const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},G={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_t=React.createContext(null),Ae=()=>React.useContext(_t),fr=e=>{const{children:r,...t}=e;return React.createElement(_t.Provider,{value:t},r)};var bt=(e,r,t,i=!0)=>{const n={defaultValues:r._defaultValues};for(const a in e)Object.defineProperty(n,a,{get:()=>{const u=a;return r._proxyFormState[u]!==q.all&&(r._proxyFormState[u]=!i||q.all),t&&(t[u]=!0),e[u]}});return n},M=e=>k(e)&&!Object.keys(e).length,Ft=(e,r,t,i)=>{t(e);const{name:n,...a}=e;return M(a)||Object.keys(a).length>=Object.keys(r).length||Object.keys(a).find(u=>r[u]===(!i||q.all))},ue=e=>Array.isArray(e)?e:[e],wt=(e,r,t)=>!e||!r||e===r||ue(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i)));function Oe(e){const r=React.useRef(e);r.current=e,React.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function yr(e){const r=Ae(),{control:t=r.control,disabled:i,name:n,exact:a}=e||{},[u,h]=React.useState(t._formState),_=React.useRef(!0),w=React.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),x=React.useRef(n);return x.current=n,Oe({disabled:i,next:g=>_.current&&wt(x.current,g.name,a)&&Ft(g,w.current,t._updateFormState)&&h({...t._formState,...g}),subject:t._subjects.state}),React.useEffect(()=>(_.current=!0,w.current.isValid&&t._updateValid(!0),()=>{_.current=!1}),[t]),bt(u,t,w.current,!1)}var $=e=>typeof e=="string",Vt=(e,r,t,i,n)=>$(e)?(i&&r.watch.add(e),d(t,e,n)):Array.isArray(e)?e.map(a=>(i&&r.watch.add(a),d(t,a))):(i&&(r.watchAll=!0),t);function hr(e){const r=Ae(),{control:t=r.control,name:i,defaultValue:n,disabled:a,exact:u}=e||{},h=React.useRef(i);h.current=i,Oe({disabled:a,subject:t._subjects.values,next:x=>{wt(h.current,x.name,u)&&w(I(Vt(h.current,t._names,x.values||t._formValues,!1,n)))}});const[_,w]=React.useState(t._getWatch(i,n));return React.useEffect(()=>t._removeUnmounted()),_}function vr(e){const r=Ae(),{name:t,disabled:i,control:n=r.control,shouldUnregister:a}=e,u=gt(n._names.array,t),h=hr({control:n,name:t,defaultValue:d(n._formValues,t,d(n._defaultValues,t,e.defaultValue)),exact:!0}),_=yr({control:n,name:t}),w=React.useRef(n.register(t,{...e.rules,value:h,...H(e.disabled)?{disabled:e.disabled}:{}}));return React.useEffect(()=>{const x=n._options.shouldUnregister||a,g=(P,W)=>{const C=d(n._fields,P);C&&C._f&&(C._f.mount=W)};if(g(t,!0),x){const P=I(d(n._options.defaultValues,t));A(n._defaultValues,t,P),D(d(n._formValues,t))&&A(n._formValues,t,P)}return()=>{(u?x&&!n._state.action:x)?n.unregister(t):g(t,!1)}},[t,n,u,a]),React.useEffect(()=>{d(n._fields,t)&&n._updateDisabledField({disabled:i,fields:n._fields,name:t,value:d(n._fields,t)._f.value})},[i,t,n]),{field:{name:t,value:h,...H(i)||_.disabled?{disabled:_.disabled||i}:{},onChange:React.useCallback(x=>w.current.onChange({target:{value:mt(x),name:t},type:_e.CHANGE}),[t]),onBlur:React.useCallback(()=>w.current.onBlur({target:{value:d(n._formValues,t),name:t},type:_e.BLUR}),[t,n]),ref:x=>{const g=d(n._fields,t);g&&x&&(g._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:P=>x.setCustomValidity(P),reportValidity:()=>x.reportValidity()})}},formState:_,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!d(_.errors,t)},isDirty:{enumerable:!0,get:()=>!!d(_.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!d(_.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!d(_.validatingFields,t)},error:{enumerable:!0,get:()=>d(_.errors,t)}})}}const mr=e=>e.render(vr(e));var pt=(e,r,t,i,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:n||!0}}:{},Ye=e=>({isOnSubmit:!e||e===q.onSubmit,isOnBlur:e===q.onBlur,isOnChange:e===q.onChange,isOnAll:e===q.all,isOnTouch:e===q.onTouched}),et=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ce=(e,r,t,i)=>{for(const n of t||Object.keys(e)){const a=d(e,n);if(a){const{_f:u,...h}=a;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],n)&&!i)break;if(u.ref&&r(u.ref,u.name)&&!i)break;ce(h,r)}else k(h)&&ce(h,r)}}};var gr=(e,r,t)=>{const i=ue(d(e,t));return A(i,"root",r[t]),A(e,t,i),e},Pe=e=>e.type==="file",Z=e=>typeof e=="function",be=e=>{if(!Me)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},ge=e=>$(e),Be=e=>e.type==="radio",Fe=e=>e instanceof RegExp;const tt={value:!1,isValid:!1},rt={value:!0,isValid:!0};var At=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!D(e[0].attributes.value)?D(e[0].value)||e[0].value===""?rt:{value:e[0].value,isValid:!0}:rt:tt}return tt};const st={isValid:!1,value:null};var Dt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,st):st;function it(e,r,t="validate"){if(ge(e)||Array.isArray(e)&&e.every(ge)||H(e)&&!e)return{type:t,message:ge(e)?e:"",ref:r}}var se=e=>k(e)&&!Fe(e)?e:{value:e,message:""},at=async(e,r,t,i,n)=>{const{ref:a,refs:u,required:h,maxLength:_,minLength:w,min:x,max:g,pattern:P,validate:W,name:C,valueAsNumber:Re,mount:Q,disabled:J}=e._f,F=d(r,C);if(!Q||J)return{};const K=u?u[0]:a,z=b=>{i&&K.reportValidity&&(K.setCustomValidity(H(b)?"":b||""),K.reportValidity())},E={},ee=Be(a),ye=fe(a),X=ee||ye,te=(Re||Pe(a))&&D(a.value)&&D(F)||be(a)&&a.value===""||F===""||Array.isArray(F)&&!F.length,U=pt.bind(null,C,t,E),he=(b,V,j,N=G.maxLength,B=G.minLength)=>{const O=b?V:j;E[C]={type:b?N:B,message:O,ref:a,...U(b?N:B,O)}};if(n?!Array.isArray(F)||!F.length:h&&(!X&&(te||L(F))||H(F)&&!F||ye&&!At(u).isValid||ee&&!Dt(u).isValid)){const{value:b,message:V}=ge(h)?{value:!!h,message:h}:se(h);if(b&&(E[C]={type:G.required,message:V,ref:K,...U(G.required,V)},!t))return z(V),E}if(!te&&(!L(x)||!L(g))){let b,V;const j=se(g),N=se(x);if(!L(F)&&!isNaN(F)){const B=a.valueAsNumber||F&&+F;L(j.value)||(b=B>j.value),L(N.value)||(V=B<N.value)}else{const B=a.valueAsDate||new Date(F),O=le=>new Date(new Date().toDateString()+" "+le),ae=a.type=="time",ne=a.type=="week";$(j.value)&&F&&(b=ae?O(F)>O(j.value):ne?F>j.value:B>new Date(j.value)),$(N.value)&&F&&(V=ae?O(F)<O(N.value):ne?F<N.value:B<new Date(N.value))}if((b||V)&&(he(!!b,j.message,N.message,G.max,G.min),!t))return z(E[C].message),E}if((_||w)&&!te&&($(F)||n&&Array.isArray(F))){const b=se(_),V=se(w),j=!L(b.value)&&F.length>+b.value,N=!L(V.value)&&F.length<+V.value;if((j||N)&&(he(j,b.message,V.message),!t))return z(E[C].message),E}if(P&&!te&&$(F)){const{value:b,message:V}=se(P);if(Fe(b)&&!F.match(b)&&(E[C]={type:G.pattern,message:V,ref:a,...U(G.pattern,V)},!t))return z(V),E}if(W){if(Z(W)){const b=await W(F,r),V=it(b,K);if(V&&(E[C]={...V,...U(G.validate,V.message)},!t))return z(V.message),E}else if(k(W)){let b={};for(const V in W){if(!M(b)&&!t)break;const j=it(await W[V](F,r),K,V);j&&(b={...j,...U(V,j.message)},z(j.message),t&&(E[C]=b))}if(!M(b)&&(E[C]={ref:K,...b},!t))return E}}return z(!0),E};function xr(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=D(e)?i++:e[r[i++]];return e}function _r(e){for(const r in e)if(e.hasOwnProperty(r)&&!D(e[r]))return!1;return!0}function S(e,r){const t=Array.isArray(r)?r:Ue(r)?[r]:xt(r),i=t.length===1?e:xr(e,t),n=t.length-1,a=t[n];return i&&delete i[a],n!==0&&(k(i)&&M(i)||Array.isArray(i)&&_r(i))&&S(e,t.slice(0,-1)),e}var Ce=()=>{let e=[];return{get observers(){return e},next:n=>{for(const a of e)a.next&&a.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(a=>a!==n)}}),unsubscribe:()=>{e=[]}}},we=e=>L(e)||!vt(e);function Y(e,r){if(we(e)||we(r))return e===r;if(ie(e)&&ie(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const n of t){const a=e[n];if(!i.includes(n))return!1;if(n!=="ref"){const u=r[n];if(ie(a)&&ie(u)||k(a)&&k(u)||Array.isArray(a)&&Array.isArray(u)?!Y(a,u):a!==u)return!1}}return!0}var Rt=e=>e.type==="select-multiple",br=e=>Be(e)||fe(e),Ne=e=>be(e)&&e.isConnected,Et=e=>{for(const r in e)if(Z(e[r]))return!0;return!1};function Ve(e,r={}){const t=Array.isArray(e);if(k(e)||t)for(const i in e)Array.isArray(e[i])||k(e[i])&&!Et(e[i])?(r[i]=Array.isArray(e[i])?[]:{},Ve(e[i],r[i])):L(e[i])||(r[i]=!0);return r}function jt(e,r,t){const i=Array.isArray(e);if(k(e)||i)for(const n in e)Array.isArray(e[n])||k(e[n])&&!Et(e[n])?D(r)||we(t[n])?t[n]=Array.isArray(e[n])?Ve(e[n],[]):{...Ve(e[n])}:jt(e[n],L(r)?{}:r[n],t[n]):t[n]=!Y(e[n],r[n]);return t}var ve=(e,r)=>jt(e,r,Ve(r)),St=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>D(e)?e:r?e===""?NaN:e&&+e:t&&$(e)?new Date(e):i?i(e):e;function Le(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return Pe(r)?r.files:Be(r)?Dt(e.refs).value:Rt(r)?[...r.selectedOptions].map(({value:t})=>t):fe(r)?At(e.refs).value:St(D(r.value)?e.ref.value:r.value,e)}var Fr=(e,r,t,i)=>{const n={};for(const a of e){const u=d(r,a);u&&A(n,a,u._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:i}},oe=e=>D(e)?e:Fe(e)?e.source:k(e)?Fe(e.value)?e.value.source:e.value:e,wr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function nt(e,r,t){const i=d(e,t);if(i||Ue(t))return{error:i,name:t};const n=t.split(".");for(;n.length;){const a=n.join("."),u=d(r,a),h=d(e,a);if(u&&!Array.isArray(u)&&t!==a)return{name:t};if(h&&h.type)return{name:a,error:h};n.pop()}return{name:t}}var Vr=(e,r,t,i,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?i.isOnBlur:n.isOnBlur)?!e:(t?i.isOnChange:n.isOnChange)?e:!0,pr=(e,r)=>!pe(d(e,r)).length&&S(e,r);const Ar={mode:q.onSubmit,reValidateMode:q.onChange,shouldFocusError:!0};function Dr(e={}){let r={...Ar,...e},t={submitCount:0,isDirty:!1,isLoading:Z(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},n=k(r.defaultValues)||k(r.values)?I(r.defaultValues||r.values)||{}:{},a=r.shouldUnregister?{}:I(n),u={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},_,w=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:Ce(),array:Ce(),state:Ce()},P=Ye(r.mode),W=Ye(r.reValidateMode),C=r.criteriaMode===q.all,Re=s=>l=>{clearTimeout(w),w=setTimeout(s,l)},Q=async s=>{if(x.isValid||s){const l=r.resolver?M((await X()).errors):await U(i,!0);l!==t.isValid&&g.state.next({isValid:l})}},J=(s,l)=>{(x.isValidating||x.validatingFields)&&((s||Array.from(h.mount)).forEach(o=>{o&&(l?A(t.validatingFields,o,l):S(t.validatingFields,o))}),g.state.next({validatingFields:t.validatingFields,isValidating:!M(t.validatingFields)}))},F=(s,l=[],o,y,f=!0,c=!0)=>{if(y&&o){if(u.action=!0,c&&Array.isArray(d(i,s))){const m=o(d(i,s),y.argA,y.argB);f&&A(i,s,m)}if(c&&Array.isArray(d(t.errors,s))){const m=o(d(t.errors,s),y.argA,y.argB);f&&A(t.errors,s,m),pr(t.errors,s)}if(x.touchedFields&&c&&Array.isArray(d(t.touchedFields,s))){const m=o(d(t.touchedFields,s),y.argA,y.argB);f&&A(t.touchedFields,s,m)}x.dirtyFields&&(t.dirtyFields=ve(n,a)),g.state.next({name:s,isDirty:b(s,l),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(a,s,l)},K=(s,l)=>{A(t.errors,s,l),g.state.next({errors:t.errors})},z=s=>{t.errors=s,g.state.next({errors:t.errors,isValid:!1})},E=(s,l,o,y)=>{const f=d(i,s);if(f){const c=d(a,s,D(o)?d(n,s):o);D(c)||y&&y.defaultChecked||l?A(a,s,l?c:Le(f._f)):N(s,c),u.mount&&Q()}},ee=(s,l,o,y,f)=>{let c=!1,m=!1;const p={name:s},R=!!(d(i,s)&&d(i,s)._f&&d(i,s)._f.disabled);if(!o||y){x.isDirty&&(m=t.isDirty,t.isDirty=p.isDirty=b(),c=m!==p.isDirty);const T=R||Y(d(n,s),l);m=!!(!R&&d(t.dirtyFields,s)),T||R?S(t.dirtyFields,s):A(t.dirtyFields,s,!0),p.dirtyFields=t.dirtyFields,c=c||x.dirtyFields&&m!==!T}if(o){const T=d(t.touchedFields,s);T||(A(t.touchedFields,s,o),p.touchedFields=t.touchedFields,c=c||x.touchedFields&&T!==o)}return c&&f&&g.state.next(p),c?p:{}},ye=(s,l,o,y)=>{const f=d(t.errors,s),c=x.isValid&&H(l)&&t.isValid!==l;if(e.delayError&&o?(_=Re(()=>K(s,o)),_(e.delayError)):(clearTimeout(w),_=null,o?A(t.errors,s,o):S(t.errors,s)),(o?!Y(f,o):f)||!M(y)||c){const m={...y,...c&&H(l)?{isValid:l}:{},errors:t.errors,name:s};t={...t,...m},g.state.next(m)}},X=async s=>{J(s,!0);const l=await r.resolver(a,r.context,Fr(s||h.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return J(s),l},te=async s=>{const{errors:l}=await X(s);if(s)for(const o of s){const y=d(l,o);y?A(t.errors,o,y):S(t.errors,o)}else t.errors=l;return l},U=async(s,l,o={valid:!0})=>{for(const y in s){const f=s[y];if(f){const{_f:c,...m}=f;if(c){const p=h.array.has(c.name);J([y],!0);const R=await at(f,a,C,r.shouldUseNativeValidation&&!l,p);if(J([y]),R[c.name]&&(o.valid=!1,l))break;!l&&(d(R,c.name)?p?gr(t.errors,R,c.name):A(t.errors,c.name,R[c.name]):S(t.errors,c.name))}m&&await U(m,l,o)}}return o.valid},he=()=>{for(const s of h.unMount){const l=d(i,s);l&&(l._f.refs?l._f.refs.every(o=>!Ne(o)):!Ne(l._f.ref))&&Ee(s)}h.unMount=new Set},b=(s,l)=>(s&&l&&A(a,s,l),!Y(qe(),n)),V=(s,l,o)=>Vt(s,h,{...u.mount?a:D(l)?n:$(s)?{[s]:l}:l},o,l),j=s=>pe(d(u.mount?a:n,s,e.shouldUnregister?d(n,s,[]):[])),N=(s,l,o={})=>{const y=d(i,s);let f=l;if(y){const c=y._f;c&&(!c.disabled&&A(a,s,St(l,c)),f=be(c.ref)&&L(l)?"":l,Rt(c.ref)?[...c.ref.options].forEach(m=>m.selected=f.includes(m.value)):c.refs?fe(c.ref)?c.refs.length>1?c.refs.forEach(m=>(!m.defaultChecked||!m.disabled)&&(m.checked=Array.isArray(f)?!!f.find(p=>p===m.value):f===m.value)):c.refs[0]&&(c.refs[0].checked=!!f):c.refs.forEach(m=>m.checked=m.value===f):Pe(c.ref)?c.ref.value="":(c.ref.value=f,c.ref.type||g.values.next({name:s,values:{...a}})))}(o.shouldDirty||o.shouldTouch)&&ee(s,f,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&le(s)},B=(s,l,o)=>{for(const y in l){const f=l[y],c=`${s}.${y}`,m=d(i,c);(h.array.has(s)||!we(f)||m&&!m._f)&&!ie(f)?B(c,f,o):N(c,f,o)}},O=(s,l,o={})=>{const y=d(i,s),f=h.array.has(s),c=I(l);A(a,s,c),f?(g.array.next({name:s,values:{...a}}),(x.isDirty||x.dirtyFields)&&o.shouldDirty&&g.state.next({name:s,dirtyFields:ve(n,a),isDirty:b(s,c)})):y&&!y._f&&!L(c)?B(s,c,o):N(s,c,o),et(s,h)&&g.state.next({...t}),g.values.next({name:u.mount?s:void 0,values:{...a}})},ae=async s=>{u.mount=!0;const l=s.target;let o=l.name,y=!0;const f=d(i,o),c=()=>l.type?Le(f._f):mt(s),m=p=>{y=Number.isNaN(p)||p===d(a,o,p)};if(f){let p,R;const T=c(),re=s.type===_e.BLUR||s.type===_e.FOCUS_OUT,Ht=!wr(f._f)&&!r.resolver&&!d(t.errors,o)&&!f._f.deps||Vr(re,d(t.touchedFields,o),t.isSubmitted,W,P),Se=et(o,h,re);A(a,o,T),re?(f._f.onBlur&&f._f.onBlur(s),_&&_(0)):f._f.onChange&&f._f.onChange(s);const ke=ee(o,T,re,!1),$t=!M(ke)||Se;if(!re&&g.values.next({name:o,type:s.type,values:{...a}}),Ht)return x.isValid&&Q(),$t&&g.state.next({name:o,...Se?{}:ke});if(!re&&Se&&g.state.next({...t}),r.resolver){const{errors:Je}=await X([o]);if(m(T),y){const Kt=nt(t.errors,i,o),Ze=nt(Je,i,Kt.name||o);p=Ze.error,o=Ze.name,R=M(Je)}}else J([o],!0),p=(await at(f,a,C,r.shouldUseNativeValidation))[o],J([o]),m(T),y&&(p?R=!1:x.isValid&&(R=await U(i,!0)));y&&(f._f.deps&&le(f._f.deps),ye(o,R,p,ke))}},ne=(s,l)=>{if(d(t.errors,l)&&s.focus)return s.focus(),1},le=async(s,l={})=>{let o,y;const f=ue(s);if(r.resolver){const c=await te(D(s)?s:f);o=M(c),y=s?!f.some(m=>d(c,m)):o}else s?(y=(await Promise.all(f.map(async c=>{const m=d(i,c);return await U(m&&m._f?{[c]:m}:m)}))).every(Boolean),!(!y&&!t.isValid)&&Q()):y=o=await U(i);return g.state.next({...!$(s)||x.isValid&&o!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:o}:{},errors:t.errors}),l.shouldFocus&&!y&&ce(i,ne,s?f:h.mount),y},qe=s=>{const l={...u.mount?a:n};return D(s)?l:$(s)?d(l,s):s.map(o=>d(l,o))},We=(s,l)=>({invalid:!!d((l||t).errors,s),isDirty:!!d((l||t).dirtyFields,s),error:d((l||t).errors,s),isValidating:!!d(t.validatingFields,s),isTouched:!!d((l||t).touchedFields,s)}),Pt=s=>{s&&ue(s).forEach(l=>S(t.errors,l)),g.state.next({errors:s?t.errors:{}})},He=(s,l,o)=>{const y=(d(i,s,{_f:{}})._f||{}).ref,f=d(t.errors,s)||{},{ref:c,message:m,type:p,...R}=f;A(t.errors,s,{...R,...l,ref:y}),g.state.next({name:s,errors:t.errors,isValid:!1}),o&&o.shouldFocus&&y&&y.focus&&y.focus()},Bt=(s,l)=>Z(s)?g.values.subscribe({next:o=>s(V(void 0,l),o)}):V(s,l,!0),Ee=(s,l={})=>{for(const o of s?ue(s):h.mount)h.mount.delete(o),h.array.delete(o),l.keepValue||(S(i,o),S(a,o)),!l.keepError&&S(t.errors,o),!l.keepDirty&&S(t.dirtyFields,o),!l.keepTouched&&S(t.touchedFields,o),!l.keepIsValidating&&S(t.validatingFields,o),!r.shouldUnregister&&!l.keepDefaultValue&&S(n,o);g.values.next({values:{...a}}),g.state.next({...t,...l.keepDirty?{isDirty:b()}:{}}),!l.keepIsValid&&Q()},$e=({disabled:s,name:l,field:o,fields:y,value:f})=>{if(H(s)&&u.mount||s){const c=s?void 0:D(f)?Le(o?o._f:d(y,l)._f):f;A(a,l,c),ee(l,c,!1,!1,!0)}},je=(s,l={})=>{let o=d(i,s);const y=H(l.disabled);return A(i,s,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:s}},name:s,mount:!0,...l}}),h.mount.add(s),o?$e({field:o,disabled:l.disabled,name:s,value:l.value}):E(s,!0,l.value),{...y?{disabled:l.disabled}:{},...r.progressive?{required:!!l.required,min:oe(l.min),max:oe(l.max),minLength:oe(l.minLength),maxLength:oe(l.maxLength),pattern:oe(l.pattern)}:{},name:s,onChange:ae,onBlur:ae,ref:f=>{if(f){je(s,l),o=d(i,s);const c=D(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,m=br(c),p=o._f.refs||[];if(m?p.find(R=>R===c):c===o._f.ref)return;A(i,s,{_f:{...o._f,...m?{refs:[...p.filter(Ne),c,...Array.isArray(d(n,s))?[{}]:[]],ref:{type:c.type,name:s}}:{ref:c}}}),E(s,!1,void 0,c)}else o=d(i,s,{}),o._f&&(o._f.mount=!1),(r.shouldUnregister||l.shouldUnregister)&&!(gt(h.array,s)&&u.action)&&h.unMount.add(s)}}},Ke=()=>r.shouldFocusError&&ce(i,ne,h.mount),qt=s=>{H(s)&&(g.state.next({disabled:s}),ce(i,(l,o)=>{const y=d(i,o);y&&(l.disabled=y._f.disabled||s,Array.isArray(y._f.refs)&&y._f.refs.forEach(f=>{f.disabled=y._f.disabled||s}))},0,!1))},ze=(s,l)=>async o=>{let y;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let f=I(a);if(g.state.next({isSubmitting:!0}),r.resolver){const{errors:c,values:m}=await X();t.errors=c,f=m}else await U(i);if(S(t.errors,"root"),M(t.errors)){g.state.next({errors:{}});try{await s(f,o)}catch(c){y=c}}else l&&await l({...t.errors},o),Ke(),setTimeout(Ke);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:M(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},Wt=(s,l={})=>{d(i,s)&&(D(l.defaultValue)?O(s,I(d(n,s))):(O(s,l.defaultValue),A(n,s,I(l.defaultValue))),l.keepTouched||S(t.touchedFields,s),l.keepDirty||(S(t.dirtyFields,s),t.isDirty=l.defaultValue?b(s,I(d(n,s))):b()),l.keepError||(S(t.errors,s),x.isValid&&Q()),g.state.next({...t}))},Ge=(s,l={})=>{const o=s?I(s):n,y=I(o),f=M(s),c=f?n:y;if(l.keepDefaultValues||(n=o),!l.keepValues){if(l.keepDirtyValues)for(const m of h.mount)d(t.dirtyFields,m)?A(c,m,d(a,m)):O(m,d(c,m));else{if(Me&&D(s))for(const m of h.mount){const p=d(i,m);if(p&&p._f){const R=Array.isArray(p._f.refs)?p._f.refs[0]:p._f.ref;if(be(R)){const T=R.closest("form");if(T){T.reset();break}}}}i={}}a=e.shouldUnregister?l.keepDefaultValues?I(n):{}:I(c),g.array.next({values:{...c}}),g.values.next({values:{...c}})}h={mount:l.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!x.isValid||!!l.keepIsValid||!!l.keepDirtyValues,u.watch=!!e.shouldUnregister,g.state.next({submitCount:l.keepSubmitCount?t.submitCount:0,isDirty:f?!1:l.keepDirty?t.isDirty:!!(l.keepDefaultValues&&!Y(s,n)),isSubmitted:l.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:l.keepDirtyValues?l.keepDefaultValues&&a?ve(n,a):t.dirtyFields:l.keepDefaultValues&&s?ve(n,s):l.keepDirty?t.dirtyFields:{},touchedFields:l.keepTouched?t.touchedFields:{},errors:l.keepErrors?t.errors:{},isSubmitSuccessful:l.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Qe=(s,l)=>Ge(Z(s)?s(a):s,l);return{control:{register:je,unregister:Ee,getFieldState:We,handleSubmit:ze,setError:He,_executeSchema:X,_getWatch:V,_getDirty:b,_updateValid:Q,_removeUnmounted:he,_updateFieldArray:F,_updateDisabledField:$e,_getFieldArray:j,_reset:Ge,_resetDefaultValues:()=>Z(r.defaultValues)&&r.defaultValues().then(s=>{Qe(s,r.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:qt,_subjects:g,_proxyFormState:x,_setErrors:z,get _fields(){return i},get _formValues(){return a},get _state(){return u},set _state(s){u=s},get _defaultValues(){return n},get _names(){return h},set _names(s){h=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:le,register:je,handleSubmit:ze,watch:Bt,setValue:O,getValues:qe,reset:Qe,resetField:Wt,clearErrors:Pt,unregister:Ee,setError:He,setFocus:(s,l={})=>{const o=d(i,s),y=o&&o._f;if(y){const f=y.refs?y.refs[0]:y.ref;f.focus&&(f.focus(),l.shouldSelect&&f.select())}},getFieldState:We}}function Rr(e={}){const r=React.useRef(),t=React.useRef(),[i,n]=React.useState({isDirty:!1,isValidating:!1,isLoading:Z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...Dr(e),formState:i});const a=r.current.control;return a._options=e,Oe({subject:a._subjects.state,next:u=>{Ft(u,a._proxyFormState,a._updateFormState,!0)&&n({...a._formState})}}),React.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),React.useEffect(()=>{if(a._proxyFormState.isDirty){const u=a._getDirty();u!==i.isDirty&&a._subjects.state.next({isDirty:u})}},[a,i.isDirty]),React.useEffect(()=>{e.values&&!Y(e.values,t.current)?(a._reset(e.values,a._options.resetOptions),t.current=e.values,n(u=>({...u}))):a._resetDefaultValues()},[e.values,a]),React.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),React.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),React.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),r.current.formState=bt(i,a),r.current}var Er="Label",kt=React.forwardRef((e,r)=>v.jsx(Gt.label,{...e,ref:r,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));kt.displayName=Er;var Ct=kt;const jr=Qt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Nt=React.forwardRef(({className:e,...r},t)=>v.jsx(Ct,{ref:t,className:de(jr(),e),...r}));Nt.displayName=Ct.displayName;const Sr=fr,Lt=React.createContext({}),kr=({...e})=>v.jsx(Lt.Provider,{value:{name:e.name},children:v.jsx(mr,{...e})}),De=()=>{const e=React.useContext(Lt),r=React.useContext(It),{getFieldState:t,formState:i}=Ae(),n=t(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=r;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...n}},It=React.createContext({}),Tt=React.forwardRef(({className:e,...r},t)=>{const i=React.useId();return v.jsx(It.Provider,{value:{id:i},children:v.jsx("div",{ref:t,className:de("space-y-2",e),...r})})});Tt.displayName="FormItem";const Cr=React.forwardRef(({className:e,...r},t)=>{const{error:i,formItemId:n}=De();return v.jsx(Nt,{ref:t,className:de(i&&"text-destructive",e),htmlFor:n,...r})});Cr.displayName="FormLabel";const Mt=React.forwardRef(({...e},r)=>{const{error:t,formItemId:i,formDescriptionId:n,formMessageId:a}=De();return v.jsx(Jt,{ref:r,id:i,"aria-describedby":t?`${n} ${a}`:`${n}`,"aria-invalid":!!t,...e})});Mt.displayName="FormControl";const Nr=React.forwardRef(({className:e,...r},t)=>{const{formDescriptionId:i}=De();return v.jsx("p",{ref:t,id:i,className:de("text-[0.8rem] text-muted-foreground",e),...r})});Nr.displayName="FormDescription";const Ut=React.forwardRef(({className:e,children:r,...t},i)=>{const{error:n,formMessageId:a}=De(),u=n?String(n==null?void 0:n.message):r;return u?v.jsx("p",{ref:i,id:a,className:de("text-[0.8rem] font-medium text-destructive",e),...t,children:u}):null});Ut.displayName="FormMessage";const Lr=Xe.object({license_key:Xe.string({required_error:wp.i18n.__("License Key Field is empty")}).min(1,wp.i18n.__("Enter valid license key"))});var lt=function(e,r,t){if(e&&"reportValidity"in e){var i=d(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Ot=function(e,r){var t=function(n){var a=r.fields[n];a&&a.ref&&"reportValidity"in a.ref?lt(a.ref,n,e):a.refs&&a.refs.forEach(function(u){return lt(u,n,e)})};for(var i in r.fields)t(i)},Ir=function(e){return e instanceof Date},Tr=function(e){return e==null},Mr=function(e){return typeof e=="object"},Ur=function(e){return!Tr(e)&&!Array.isArray(e)&&Mr(e)&&!Ir(e)},Or=function(e){return/^\w*$/.test(e)},Ie=function(e,r,t){for(var i=-1,n=Or(r)?[r]:function(x){return g=x.replace(/["|']|\]/g,"").split(/\.|\[/),Array.isArray(g)?g.filter(Boolean):[];var g}(r),a=n.length,u=a-1;++i<a;){var h=n[i],_=t;if(i!==u){var w=e[h];_=Ur(w)||Array.isArray(w)?w:isNaN(+n[i+1])?{}:[]}e[h]=_,e=e[h]}return e},Pr=function(e,r){r.shouldUseNativeValidation&&Ot(e,r);var t={};for(var i in e){var n=d(r.fields,i),a=Object.assign(e[i]||{},{ref:n&&n.ref});if(Br(r.names||Object.keys(e),i)){var u=Object.assign({},d(t,i));Ie(u,"root",a),Ie(t,i,u)}else Ie(t,i,a)}return t},Br=function(e,r){return e.some(function(t){return t.startsWith(r+".")})},qr=function(e,r){for(var t={};e.length;){var i=e[0],n=i.code,a=i.message,u=i.path.join(".");if(!t[u])if("unionErrors"in i){var h=i.unionErrors[0].errors[0];t[u]={message:h.message,type:h.code}}else t[u]={message:a,type:n};if("unionErrors"in i&&i.unionErrors.forEach(function(x){return x.errors.forEach(function(g){return e.push(g)})}),r){var _=t[u].types,w=_&&_[i.code];t[u]=pt(u,r,t,n,w?[].concat(w,i.message):i.message)}e.shift()}return t},Wr=function(e,r,t){return t===void 0&&(t={}),function(i,n,a){try{return Promise.resolve(function(u,h){try{var _=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,r)).then(function(w){return a.shouldUseNativeValidation&&Ot({},a),{errors:{},values:t.raw?i:w}})}catch(w){return h(w)}return _&&_.then?_.then(void 0,h):_}(0,function(u){if(function(h){return Array.isArray(h==null?void 0:h.errors)}(u))return{values:{},errors:Pr(qr(u.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw u}))}catch(u){return Promise.reject(u)}}};function Hr(){const e=ot(),r=Rr({resolver:Wr(Lr),defaultValues:{license_key:""}}),{isPending:t,mutateAsync:i}=ht("license/activate");async function n(a){try{await i(a),xe.success(wp.i18n.__("License Activated Successfully")),r.reset(),e.invalidateQueries({queryKey:["license/detail"]})}catch(u){xe.error((u==null?void 0:u.message)??wp.i18n.__("Error Activating License")),r.reset()}}return v.jsx(Sr,{...r,children:v.jsx("form",{onSubmit:r.handleSubmit(n),children:v.jsxs(ut,{children:[v.jsx(ct,{children:v.jsx(dt,{children:wp.i18n.__("Activate License")})}),v.jsx(ft,{children:v.jsx(kr,{control:r.control,name:"license_key",render:({field:a})=>v.jsxs(Tt,{children:[v.jsx(Mt,{children:v.jsx(lr,{placeholder:wp.i18n.__("Enter License Key"),disabled:t,...a})}),v.jsx(Ut,{})]})})}),v.jsx(yt,{children:v.jsxs(me,{variant:"default",type:"submit",disabled:t,className:"gap-2",children:[v.jsx("span",{children:wp.i18n.__("Activate License")}),t?v.jsx(Te,{className:"h-4 w-4 animate-spin"}):null]})})]})})})}function Yr(){const{data:e,isLoading:r,isFetching:t}=nr();return v.jsx(Zt,{title:wp.i18n.__("License Activation"),isLoading:r,isFetching:t,breadcrump:[{label:e!=null&&e.activation_key?wp.i18n.__("Activation Detail"):wp.i18n.__("Activate License")}],children:v.jsx("div",{children:e&&(e.activation_key?v.jsx(ur,{detail:e},e.activation_key):v.jsx(Hr,{}))})})}export{Yr as default};
