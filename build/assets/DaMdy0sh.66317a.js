import{r as a,j as s,d as m,e as o}from"./p74IwaZt.66317a.js";import{C as p,c,A as u}from"./B-DnQ82L.66317a.js";import{u as l,L as d}from"./HZA8qnSu.66317a.js";import{S as x}from"./Z4sUtITW.66317a.js";import{P as g}from"./BGhGltH3.66317a.js";function f({data:t}){var i;l("/history/:page?");const n=a.useMemo(()=>[{id:"title",label:wp.i18n.__("Title","festingervault"),className:"w-full whitespace-nowrap text-muted-foreground",render({row:e}){var r;return s.jsxs(d,{to:"/item/:type/detail/:id/:tab?",params:{id:e.item.id,type:e.item.type},className:"flex flex-col gap-2",children:[s.jsx("span",{children:wp.htmlEntities.decodeEntities(e.item.title)}),e.type==="download_additional"&&s.jsx("span",{className:"text-xs",children:(r=e.media)==null?void 0:r.title})]})}},{id:"type",label:wp.i18n.__("Type","festingervault"),render({row:e}){var r;return s.jsx(m,{variant:"bronze",className:"uppercase",children:(r=e.type)==null?void 0:r.replace("_"," ")})}},{id:"date",label:wp.i18n.__("Date","festingervault"),className:"whitespace-nowrap text-muted-foreground",render({row:e}){return moment.unix(e.created).format("DD MMM, YYYY HH:mm a")}},{id:"version",label:wp.i18n.__("Version","festingervault"),className:"whitespace-nowrap text-muted-foreground",render({row:e}){var r;return((r=e==null?void 0:e.media)==null?void 0:r.version)??e.item.version}}],[t]);return s.jsx(p,{children:s.jsx(c,{children:s.jsxs("div",{className:"flex flex-col gap-7",children:[s.jsx(x,{columns:n,data:t==null?void 0:t.data}),(t==null?void 0:t.meta)&&s.jsx(g,{currentPage:t==null?void 0:t.meta.current_page,totalPages:Number((i=t==null?void 0:t.meta)==null?void 0:i.last_page),urlGenerator:e=>`/history/${e}`})]})})})}function b(){const{page:t}=l("/history/:page?"),{data:n,isLoading:i}=o("history/list",{page:Number(t??1)});return s.jsx(u,{title:wp.i18n.__("History","festingervault"),isLoading:i,children:s.jsx(f,{data:n})})}export{b as default};
